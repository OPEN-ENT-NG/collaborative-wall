<!DOCTYPE html>
<html ng-controller="WallController">
<head>
    <title>{{#i18n}}collaborativewall.title{{/i18n}}</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/collaborativewall/public/css/custom.css">

    <script src="/assets/js/entcore/ng-app.js?v=@@VERSION" id="context" type="text/javascript"></script>
    <script type="text/javascript" src="/collaborativewall/public/dist/application.js?v=@@VERSION"></script>
</head>
<body library-root>
<portal guard-root>
    <infotip name="collaborativewall-no-mobile" class="warning zero-desktop">
        <strong>
            <i18n>warning.no.mobile</i18n>
        </strong>
    </infotip>
    <div class="twelve cell" ng-if="!error">
        <div class="eight cell">
            <h1>
                <i class="collaborative-wall">
                    <side-panel ng-if="wallmodeview">
                        <container template="side-panel"></container>
                    </side-panel>
                </i>
                <a>
                    <i18n navigation-trigger="cancelWallEdit()">collaborativewall.title</i18n>
                </a>
                <span ng-if="wall.name && wall.name.trim().length > 0">: [[wall.name]]</a></span>
            </h1>
        </div>
        <div class="contextual-buttons four cell" ng-if="walls.all.length" workflow="collaborativewall.create">
            <!-- <button ng-if="!wallmodeview" ng-click="newWall()" class="cell right-magnet"> -->
            <button ng-if="!wallmodeview" ng-click="newWall()"  class="cell right-magnet">
                <i18n>collaborativewall.new</i18n>
            </button>
        </div>
    </div>
    <div ng-if="!error" class="row patchwork">
        <container template="main"></container>
        <!--   <container template="walls" class="flexible navigation" ng-class="{ 'empty-neighbour': template.isEmpty('main'), 'filled-neighbour': !template.isEmpty('main') }"></container> -->
    </div>
    <div ng-if="error" class="row">
        <container template="error"></container>
    </div>
</portal>
<div ng-if="printMode">
    <container template="main"></container>
</div>
<library-publish></library-publish>
</body>
</html>