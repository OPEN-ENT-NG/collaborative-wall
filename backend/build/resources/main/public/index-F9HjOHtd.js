import{r as f,R as Y,a as ye,g as Sr,u as On,j as b,B as Pt,S as yr,b as Cr,c as Er,d as Dr,e as Pr,f as Tr,_ as Mr,h as xr,i as Or,A as Ar,k as Nr,l as Rr}from"./index-5IJfoSzN.js";import"/assets/js/edifice-ts-client/index.js";const lt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pe(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function zt(e){return"nodeType"in e}function B(e){var n,t;return e?Pe(e)?e:zt(e)&&(n=(t=e.ownerDocument)==null?void 0:t.defaultView)!=null?n:window:window}function kt(e){const{Document:n}=B(e);return e instanceof n}function Ze(e){return Pe(e)?!1:e instanceof B(e).HTMLElement}function An(e){return e instanceof B(e).SVGElement}function Te(e){return e?Pe(e)?e.document:zt(e)?kt(e)?e:Ze(e)||An(e)?e.ownerDocument:document:document:document}const ce=lt?f.useLayoutEffect:f.useEffect;function _t(e){const n=f.useRef(e);return ce(()=>{n.current=e}),f.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function Yr(){const e=f.useRef(null),n=f.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),t=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,t]}function Lt(e,n){n===void 0&&(n=[e]);const t=f.useRef(e);return ce(()=>{t.current!==e&&(t.current=e)},n),t}function je(e,n){const t=f.useRef();return f.useMemo(()=>{const r=e(t.current);return t.current=r,r},[...n])}function Tt(e){const n=_t(e),t=f.useRef(null),r=f.useCallback(i=>{i!==t.current&&(n==null||n(i,t.current)),t.current=i},[]);return[t,r]}function Mt(e){const n=f.useRef();return f.useEffect(()=>{n.current=e},[e]),n.current}let ht={};function Bt(e,n){return f.useMemo(()=>{if(n)return n;const t=ht[e]==null?0:ht[e]+1;return ht[e]=t,e+"-"+t},[e,n])}function Nn(e){return function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((o,a)=>{const s=Object.entries(a);for(const[l,c]of s){const u=o[l];u!=null&&(o[l]=u+e*c)}return o},{...n})}}const Ce=Nn(1),rt=Nn(-1);function Xr(e){return"clientX"in e&&"clientY"in e}function Rn(e){if(!e)return!1;const{KeyboardEvent:n}=B(e.target);return n&&e instanceof n}function zr(e){if(!e)return!1;const{TouchEvent:n}=B(e.target);return n&&e instanceof n}function it(e){if(zr(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:t}=e.touches[0];return{x:n,y:t}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:t}=e.changedTouches[0];return{x:n,y:t}}}return Xr(e)?{x:e.clientX,y:e.clientY}:null}const xt=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:t}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:t}=e;return"scaleX("+n+") scaleY("+t+")"}},Transform:{toString(e){if(e)return[xt.Translate.toString(e),xt.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:t,easing:r}=e;return n+" "+t+"ms "+r}}}),an="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function kr(e){return e.matches(an)?e:e.querySelector(an)}const _r={display:"none"};function Lr(e){let{id:n,value:t}=e;return Y.createElement("div",{id:n,style:_r},t)}function Br(e){let{id:n,announcement:t,ariaLiveType:r="assertive"}=e;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Y.createElement("div",{id:n,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function Wr(){const[e,n]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&n(r)},[]),announcement:e}}const Yn=f.createContext(null);function Zr(e){const n=f.useContext(Yn);f.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function jr(){const[e]=f.useState(()=>new Set),n=f.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[f.useCallback(r=>{let{type:i,event:o}=r;e.forEach(a=>{var s;return(s=a[i])==null?void 0:s.call(a,o)})},[e]),n]}const Fr={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},$r={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:t}=e;return t?"Draggable item "+n.id+" was moved over droppable area "+t.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:t}=e;return t?"Draggable item "+n.id+" was dropped over droppable area "+t.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function Hr(e){let{announcements:n=$r,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=Fr}=e;const{announce:o,announcement:a}=Wr(),s=Bt("DndLiveRegion"),[l,c]=f.useState(!1);if(f.useEffect(()=>{c(!0)},[]),Zr(f.useMemo(()=>({onDragStart(d){let{active:v}=d;o(n.onDragStart({active:v}))},onDragMove(d){let{active:v,over:p}=d;n.onDragMove&&o(n.onDragMove({active:v,over:p}))},onDragOver(d){let{active:v,over:p}=d;o(n.onDragOver({active:v,over:p}))},onDragEnd(d){let{active:v,over:p}=d;o(n.onDragEnd({active:v,over:p}))},onDragCancel(d){let{active:v,over:p}=d;o(n.onDragCancel({active:v,over:p}))}}),[o,n])),!l)return null;const u=Y.createElement(Y.Fragment,null,Y.createElement(Lr,{id:r,value:i.draggable}),Y.createElement(Br,{id:s,announcement:a}));return t?ye.createPortal(u,t):u}var k;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(k||(k={}));function ot(){}function mt(e,n){return f.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function Kr(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return f.useMemo(()=>[...n].filter(r=>r!=null),[...n])}const J=Object.freeze({x:0,y:0});function Vr(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Ur(e,n){let{data:{value:t}}=e,{data:{value:r}}=n;return t-r}function qr(e,n){let{data:{value:t}}=e,{data:{value:r}}=n;return r-t}function Qr(e,n){if(!e||e.length===0)return null;const[t]=e;return n?t[n]:t}function sn(e,n,t){return n===void 0&&(n=e.left),t===void 0&&(t=e.top),{x:n+e.width*.5,y:t+e.height*.5}}const Jr=e=>{let{collisionRect:n,droppableRects:t,droppableContainers:r}=e;const i=sn(n,n.left,n.top),o=[];for(const a of r){const{id:s}=a,l=t.get(s);if(l){const c=Vr(sn(l),i);o.push({id:s,data:{droppableContainer:a,value:c}})}}return o.sort(Ur)};function Gr(e,n){const t=Math.max(n.top,e.top),r=Math.max(n.left,e.left),i=Math.min(n.left+n.width,e.left+e.width),o=Math.min(n.top+n.height,e.top+e.height),a=i-r,s=o-t;if(r<i&&t<o){const l=n.width*n.height,c=e.width*e.height,u=a*s,d=u/(l+c-u);return Number(d.toFixed(4))}return 0}const Ir=e=>{let{collisionRect:n,droppableRects:t,droppableContainers:r}=e;const i=[];for(const o of r){const{id:a}=o,s=t.get(a);if(s){const l=Gr(s,n);l>0&&i.push({id:a,data:{droppableContainer:o,value:l}})}}return i.sort(qr)};function ei(e,n,t){return{...e,scaleX:n&&t?n.width/t.width:1,scaleY:n&&t?n.height/t.height:1}}function Xn(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:J}function ti(e){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((a,s)=>({...a,top:a.top+e*s.y,bottom:a.bottom+e*s.y,left:a.left+e*s.x,right:a.right+e*s.x}),{...t})}}const ni=ti(1);function ri(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function ii(e,n,t){const r=ri(n);if(!r)return e;const{scaleX:i,scaleY:o,x:a,y:s}=r,l=e.left-a-(1-i)*parseFloat(t),c=e.top-s-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),u=i?e.width/i:e.width,d=o?e.height/o:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}const oi={ignoreTransform:!1};function Fe(e,n){n===void 0&&(n=oi);let t=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:c,transformOrigin:u}=B(e).getComputedStyle(e);c&&(t=ii(t,c,u))}const{top:r,left:i,width:o,height:a,bottom:s,right:l}=t;return{top:r,left:i,width:o,height:a,bottom:s,right:l}}function ln(e){return Fe(e,{ignoreTransform:!0})}function ai(e){const n=e.innerWidth,t=e.innerHeight;return{top:0,left:0,right:n,bottom:t,width:n,height:t}}function si(e,n){return n===void 0&&(n=B(e).getComputedStyle(e)),n.position==="fixed"}function li(e,n){n===void 0&&(n=B(e).getComputedStyle(e));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=n[i];return typeof o=="string"?t.test(o):!1})}function Wt(e,n){const t=[];function r(i){if(n!=null&&t.length>=n||!i)return t;if(kt(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!Ze(i)||An(i)||t.includes(i))return t;const o=B(e).getComputedStyle(i);return i!==e&&li(i,o)&&t.push(i),si(i,o)?t:r(i.parentNode)}return e?r(e):t}function zn(e){const[n]=Wt(e,1);return n??null}function gt(e){return!lt||!e?null:Pe(e)?e:zt(e)?kt(e)||e===Te(e).scrollingElement?window:Ze(e)?e:null:null}function kn(e){return Pe(e)?e.scrollX:e.scrollLeft}function _n(e){return Pe(e)?e.scrollY:e.scrollTop}function Ot(e){return{x:kn(e),y:_n(e)}}var X;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(X||(X={}));function Ln(e){return!lt||!e?!1:e===document.scrollingElement}function Bn(e){const n={x:0,y:0},t=Ln(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-t.width,y:e.scrollHeight-t.height},i=e.scrollTop<=n.y,o=e.scrollLeft<=n.x,a=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:a,isRight:s,maxScroll:r,minScroll:n}}const ui={x:.2,y:.2};function ci(e,n,t,r,i){let{top:o,left:a,right:s,bottom:l}=t;r===void 0&&(r=10),i===void 0&&(i=ui);const{isTop:c,isBottom:u,isLeft:d,isRight:v}=Bn(e),p={x:0,y:0},h={x:0,y:0},m={height:n.height*i.y,width:n.width*i.x};return!c&&o<=n.top+m.height?(p.y=X.Backward,h.y=r*Math.abs((n.top+m.height-o)/m.height)):!u&&l>=n.bottom-m.height&&(p.y=X.Forward,h.y=r*Math.abs((n.bottom-m.height-l)/m.height)),!v&&s>=n.right-m.width?(p.x=X.Forward,h.x=r*Math.abs((n.right-m.width-s)/m.width)):!d&&a<=n.left+m.width&&(p.x=X.Backward,h.x=r*Math.abs((n.left+m.width-a)/m.width)),{direction:p,speed:h}}function di(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:n,left:t,right:r,bottom:i}=e.getBoundingClientRect();return{top:n,left:t,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Wn(e){return e.reduce((n,t)=>Ce(n,Ot(t)),J)}function fi(e){return e.reduce((n,t)=>n+kn(t),0)}function vi(e){return e.reduce((n,t)=>n+_n(t),0)}function pi(e,n){if(n===void 0&&(n=Fe),!e)return;const{top:t,left:r,bottom:i,right:o}=n(e);zn(e)&&(i<=0||o<=0||t>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const hi=[["x",["left","right"],fi],["y",["top","bottom"],vi]];class Zt{constructor(n,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Wt(t),i=Wn(r);this.rect={...n},this.width=n.width,this.height=n.height;for(const[o,a,s]of hi)for(const l of a)Object.defineProperty(this,l,{get:()=>{const c=s(r),u=i[o]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _e{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=n}add(n,t,r){var i;(i=this.target)==null||i.addEventListener(n,t,r),this.listeners.push([n,t,r])}}function mi(e){const{EventTarget:n}=B(e);return e instanceof n?e:Te(e)}function bt(e,n){const t=Math.abs(e.x),r=Math.abs(e.y);return typeof n=="number"?Math.sqrt(t**2+r**2)>n:"x"in n&&"y"in n?t>n.x&&r>n.y:"x"in n?t>n.x:"y"in n?r>n.y:!1}var H;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(H||(H={}));function un(e){e.preventDefault()}function gi(e){e.stopPropagation()}var T;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(T||(T={}));const Zn={start:[T.Space,T.Enter],cancel:[T.Esc],end:[T.Space,T.Enter]},bi=(e,n)=>{let{currentCoordinates:t}=n;switch(e.code){case T.Right:return{...t,x:t.x+25};case T.Left:return{...t,x:t.x-25};case T.Down:return{...t,y:t.y+25};case T.Up:return{...t,y:t.y-25}}};class jt{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:t}}=n;this.props=n,this.listeners=new _e(Te(t)),this.windowListeners=new _e(B(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(H.Resize,this.handleCancel),this.windowListeners.add(H.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(H.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:t}=this.props,r=n.node.current;r&&pi(r),t(J)}handleKeyDown(n){if(Rn(n)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:o=Zn,coordinateGetter:a=bi,scrollBehavior:s="smooth"}=i,{code:l}=n;if(o.end.includes(l)){this.handleEnd(n);return}if(o.cancel.includes(l)){this.handleCancel(n);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:J;this.referenceCoordinates||(this.referenceCoordinates=u);const d=a(n,{active:t,context:r.current,currentCoordinates:u});if(d){const v=rt(d,u),p={x:0,y:0},{scrollableAncestors:h}=r.current;for(const m of h){const g=n.code,{isTop:w,isRight:S,isLeft:y,isBottom:A,maxScroll:D,minScroll:M}=Bn(m),C=di(m),E={x:Math.min(g===T.Right?C.right-C.width/2:C.right,Math.max(g===T.Right?C.left:C.left+C.width/2,d.x)),y:Math.min(g===T.Down?C.bottom-C.height/2:C.bottom,Math.max(g===T.Down?C.top:C.top+C.height/2,d.y))},N=g===T.Right&&!S||g===T.Left&&!y,R=g===T.Down&&!A||g===T.Up&&!w;if(N&&E.x!==d.x){const x=m.scrollLeft+v.x,_=g===T.Right&&x<=D.x||g===T.Left&&x>=M.x;if(_&&!v.y){m.scrollTo({left:x,behavior:s});return}_?p.x=m.scrollLeft-x:p.x=g===T.Right?m.scrollLeft-D.x:m.scrollLeft-M.x,p.x&&m.scrollBy({left:-p.x,behavior:s});break}else if(R&&E.y!==d.y){const x=m.scrollTop+v.y,_=g===T.Down&&x<=D.y||g===T.Up&&x>=M.y;if(_&&!v.x){m.scrollTo({top:x,behavior:s});return}_?p.y=m.scrollTop-x:p.y=g===T.Down?m.scrollTop-D.y:m.scrollTop-M.y,p.y&&m.scrollBy({top:-p.y,behavior:s});break}}this.handleMove(n,Ce(rt(d,this.referenceCoordinates),p))}}}handleMove(n,t){const{onMove:r}=this.props;n.preventDefault(),r(t)}handleEnd(n){const{onEnd:t}=this.props;n.preventDefault(),this.detach(),t()}handleCancel(n){const{onCancel:t}=this.props;n.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}jt.activators=[{eventName:"onKeyDown",handler:(e,n,t)=>{let{keyboardCodes:r=Zn,onActivation:i}=n,{active:o}=t;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const s=o.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function cn(e){return!!(e&&"distance"in e)}function dn(e){return!!(e&&"delay"in e)}class Ft{constructor(n,t,r){var i;r===void 0&&(r=mi(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=t;const{event:o}=n,{target:a}=o;this.props=n,this.events=t,this.document=Te(a),this.documentListeners=new _e(this.document),this.listeners=new _e(r),this.windowListeners=new _e(B(a)),this.initialCoordinates=(i=it(o))!=null?i:J,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),this.windowListeners.add(H.Resize,this.handleCancel),this.windowListeners.add(H.DragStart,un),this.windowListeners.add(H.VisibilityChange,this.handleCancel),this.windowListeners.add(H.ContextMenu,un),this.documentListeners.add(H.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(dn(t)){this.timeoutId=setTimeout(this.handleStart,t.delay);return}if(cn(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:n}=this,{onStart:t}=this.props;n&&(this.activated=!0,this.documentListeners.add(H.Click,gi,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(H.SelectionChange,this.removeTextSelection),t(n))}handleMove(n){var t;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:a,options:{activationConstraint:s}}=o;if(!i)return;const l=(t=it(n))!=null?t:J,c=rt(i,l);if(!r&&s){if(cn(s)){if(s.tolerance!=null&&bt(c,s.tolerance))return this.handleCancel();if(bt(c,s.distance))return this.handleStart()}return dn(s)&&bt(c,s.tolerance)?this.handleCancel():void 0}n.cancelable&&n.preventDefault(),a(l)}handleEnd(){const{onEnd:n}=this.props;this.detach(),n()}handleCancel(){const{onCancel:n}=this.props;this.detach(),n()}handleKeydown(n){n.code===T.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const wi={move:{name:"pointermove"},end:{name:"pointerup"}};class jn extends Ft{constructor(n){const{event:t}=n,r=Te(t.target);super(n,wi,r)}}jn.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:t}=e,{onActivation:r}=n;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const Si={move:{name:"mousemove"},end:{name:"mouseup"}};var At;(function(e){e[e.RightClick=2]="RightClick"})(At||(At={}));class Fn extends Ft{constructor(n){super(n,Si,Te(n.event.target))}}Fn.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:t}=e,{onActivation:r}=n;return t.button===At.RightClick?!1:(r==null||r({event:t}),!0)}}];const wt={move:{name:"touchmove"},end:{name:"touchend"}};class $n extends Ft{constructor(n){super(n,wt)}static setup(){return window.addEventListener(wt.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(wt.move.name,n)};function n(){}}}$n.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:t}=e,{onActivation:r}=n;const{touches:i}=t;return i.length>1?!1:(r==null||r({event:t}),!0)}}];var Le;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Le||(Le={}));var at;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(at||(at={}));function yi(e){let{acceleration:n,activator:t=Le.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:a=5,order:s=at.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:d,threshold:v}=e;const p=Ei({delta:d,disabled:!o}),[h,m]=Yr(),g=f.useRef({x:0,y:0}),w=f.useRef({x:0,y:0}),S=f.useMemo(()=>{switch(t){case Le.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Le.DraggableRect:return i}},[t,i,l]),y=f.useRef(null),A=f.useCallback(()=>{const M=y.current;if(!M)return;const C=g.current.x*w.current.x,E=g.current.y*w.current.y;M.scrollBy(C,E)},[]),D=f.useMemo(()=>s===at.TreeOrder?[...c].reverse():c,[s,c]);f.useEffect(()=>{if(!o||!c.length||!S){m();return}for(const M of D){if((r==null?void 0:r(M))===!1)continue;const C=c.indexOf(M),E=u[C];if(!E)continue;const{direction:N,speed:R}=ci(M,E,S,n,v);for(const x of["x","y"])p[x][N[x]]||(R[x]=0,N[x]=0);if(R.x>0||R.y>0){m(),y.current=M,h(A,a),g.current=R,w.current=N;return}}g.current={x:0,y:0},w.current={x:0,y:0},m()},[n,A,r,m,o,a,JSON.stringify(S),JSON.stringify(p),h,c,D,u,JSON.stringify(v)])}const Ci={x:{[X.Backward]:!1,[X.Forward]:!1},y:{[X.Backward]:!1,[X.Forward]:!1}};function Ei(e){let{delta:n,disabled:t}=e;const r=Mt(n);return je(i=>{if(t||!r||!i)return Ci;const o={x:Math.sign(n.x-r.x),y:Math.sign(n.y-r.y)};return{x:{[X.Backward]:i.x[X.Backward]||o.x===-1,[X.Forward]:i.x[X.Forward]||o.x===1},y:{[X.Backward]:i.y[X.Backward]||o.y===-1,[X.Forward]:i.y[X.Forward]||o.y===1}}},[t,n,r])}function Di(e,n){const t=n!==null?e.get(n):void 0,r=t?t.node.current:null;return je(i=>{var o;return n===null?null:(o=r??i)!=null?o:null},[r,n])}function Pi(e,n){return f.useMemo(()=>e.reduce((t,r)=>{const{sensor:i}=r,o=i.activators.map(a=>({eventName:a.eventName,handler:n(a.handler,r)}));return[...t,...o]},[]),[e,n])}var We;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(We||(We={}));var Nt;(function(e){e.Optimized="optimized"})(Nt||(Nt={}));const fn=new Map;function Ti(e,n){let{dragging:t,dependencies:r,config:i}=n;const[o,a]=f.useState(null),{frequency:s,measure:l,strategy:c}=i,u=f.useRef(e),d=g(),v=Lt(d),p=f.useCallback(function(w){w===void 0&&(w=[]),!v.current&&a(S=>S===null?w:S.concat(w.filter(y=>!S.includes(y))))},[v]),h=f.useRef(null),m=je(w=>{if(d&&!t)return fn;if(!w||w===fn||u.current!==e||o!=null){const S=new Map;for(let y of e){if(!y)continue;if(o&&o.length>0&&!o.includes(y.id)&&y.rect.current){S.set(y.id,y.rect.current);continue}const A=y.node.current,D=A?new Zt(l(A),A):null;y.rect.current=D,D&&S.set(y.id,D)}return S}return w},[e,o,t,d,l]);return f.useEffect(()=>{u.current=e},[e]),f.useEffect(()=>{d||p()},[t,d]),f.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),f.useEffect(()=>{d||typeof s!="number"||h.current!==null||(h.current=setTimeout(()=>{p(),h.current=null},s))},[s,d,p,...r]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:o!=null};function g(){switch(c){case We.Always:return!1;case We.BeforeDragging:return t;default:return!t}}}function Hn(e,n){return je(t=>e?t||(typeof n=="function"?n(e):e):null,[n,e])}function Mi(e,n){return Hn(e,n)}function xi(e){let{callback:n,disabled:t}=e;const r=_t(n),i=f.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,t]);return f.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function $t(e){let{callback:n,disabled:t}=e;const r=_t(n),i=f.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[t]);return f.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Oi(e){return new Zt(Fe(e),e)}function vn(e,n,t){n===void 0&&(n=Oi);const[r,i]=f.useReducer(s,null),o=xi({callback(l){if(e)for(const c of l){const{type:u,target:d}=c;if(u==="childList"&&d instanceof HTMLElement&&d.contains(e)){i();break}}}}),a=$t({callback:i});return ce(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),r;function s(l){if(!e)return null;if(e.isConnected===!1){var c;return(c=l??t)!=null?c:null}const u=n(e);return JSON.stringify(l)===JSON.stringify(u)?l:u}}function Ai(e){const n=Hn(e);return Xn(e,n)}const pn=[];function Ni(e){const n=f.useRef(e),t=je(r=>e?r&&r!==pn&&e&&n.current&&e.parentNode===n.current.parentNode?r:Wt(e):pn,[e]);return f.useEffect(()=>{n.current=e},[e]),t}function Ri(e){const[n,t]=f.useState(null),r=f.useRef(e),i=f.useCallback(o=>{const a=gt(o.target);a&&t(s=>s?(s.set(a,Ot(a)),new Map(s)):null)},[]);return f.useEffect(()=>{const o=r.current;if(e!==o){a(o);const s=e.map(l=>{const c=gt(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,Ot(c)]):null}).filter(l=>l!=null);t(s.length?new Map(s):null),r.current=e}return()=>{a(e),a(o)};function a(s){s.forEach(l=>{const c=gt(l);c==null||c.removeEventListener("scroll",i)})}},[i,e]),f.useMemo(()=>e.length?n?Array.from(n.values()).reduce((o,a)=>Ce(o,a),J):Wn(e):J,[e,n])}function hn(e,n){n===void 0&&(n=[]);const t=f.useRef(null);return f.useEffect(()=>{t.current=null},n),f.useEffect(()=>{const r=e!==J;r&&!t.current&&(t.current=e),!r&&t.current&&(t.current=null)},[e]),t.current?rt(e,t.current):J}function Yi(e){f.useEffect(()=>{if(!lt)return;const n=e.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of n)t==null||t()}},e.map(n=>{let{sensor:t}=n;return t}))}function Xi(e,n){return f.useMemo(()=>e.reduce((t,r)=>{let{eventName:i,handler:o}=r;return t[i]=a=>{o(a,n)},t},{}),[e,n])}function Kn(e){return f.useMemo(()=>e?ai(e):null,[e])}const St=[];function zi(e,n){n===void 0&&(n=Fe);const[t]=e,r=Kn(t?B(t):null),[i,o]=f.useReducer(s,St),a=$t({callback:o});return e.length>0&&i===St&&o(),ce(()=>{e.length?e.forEach(l=>a==null?void 0:a.observe(l)):(a==null||a.disconnect(),o())},[e]),i;function s(){return e.length?e.map(l=>Ln(l)?r:new Zt(n(l),l)):St}}function ki(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return Ze(n)?n:e}function _i(e){let{measure:n}=e;const[t,r]=f.useState(null),i=f.useCallback(c=>{for(const{target:u}of c)if(Ze(u)){r(d=>{const v=n(u);return d?{...d,width:v.width,height:v.height}:v});break}},[n]),o=$t({callback:i}),a=f.useCallback(c=>{const u=ki(c);o==null||o.disconnect(),u&&(o==null||o.observe(u)),r(u?n(u):null)},[n,o]),[s,l]=Tt(a);return f.useMemo(()=>({nodeRef:s,rect:t,setRef:l}),[t,s,l])}const Li=[{sensor:jn,options:{}},{sensor:jt,options:{}}],Bi={current:{}},nt={draggable:{measure:ln},droppable:{measure:ln,strategy:We.WhileDragging,frequency:Nt.Optimized},dragOverlay:{measure:Fe}};class Be extends Map{get(n){var t;return n!=null&&(t=super.get(n))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:t}=n;return!t})}getNodeFor(n){var t,r;return(t=(r=this.get(n))==null?void 0:r.node.current)!=null?t:void 0}}const Wi={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Be,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ot},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nt,measureDroppableContainers:ot,windowRect:null,measuringScheduled:!1},Zi={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ot,draggableNodes:new Map,over:null,measureDroppableContainers:ot},Ht=f.createContext(Zi),ji=f.createContext(Wi);function Fi(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Be}}}function $i(e,n){switch(n.type){case k.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case k.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case k.DragEnd:case k.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case k.RegisterDroppable:{const{element:t}=n,{id:r}=t,i=new Be(e.droppable.containers);return i.set(r,t),{...e,droppable:{...e.droppable,containers:i}}}case k.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=n,o=e.droppable.containers.get(t);if(!o||r!==o.key)return e;const a=new Be(e.droppable.containers);return a.set(t,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:a}}}case k.UnregisterDroppable:{const{id:t,key:r}=n,i=e.droppable.containers.get(t);if(!i||r!==i.key)return e;const o=new Be(e.droppable.containers);return o.delete(t),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Hi(e){let{disabled:n}=e;const{active:t,activatorEvent:r,draggableNodes:i}=f.useContext(Ht),o=Mt(r),a=Mt(t==null?void 0:t.id);return f.useEffect(()=>{if(!n&&!r&&o&&a!=null){if(!Rn(o)||document.activeElement===o.target)return;const s=i.get(a);if(!s)return;const{activatorNode:l,node:c}=s;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const d=kr(u);if(d){d.focus();break}}})}},[r,n,i,a,o]),null}function Ki(e,n){let{transform:t,...r}=n;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),t):t}function Vi(e){return f.useMemo(()=>({draggable:{...nt.draggable,...e==null?void 0:e.draggable},droppable:{...nt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...nt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Ui(e){let{activeNode:n,measure:t,initialRect:r,config:i=!0}=e;const o=f.useRef(!1),{x:a,y:s}=typeof i=="boolean"?{x:i,y:i}:i;ce(()=>{if(!a&&!s||!n){o.current=!1;return}if(o.current||!r)return;const c=n==null?void 0:n.node.current;if(!c||c.isConnected===!1)return;const u=t(c),d=Xn(u,r);if(a||(d.x=0),s||(d.y=0),o.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const v=zn(c);v&&v.scrollBy({top:d.y,left:d.x})}},[n,a,s,r,t])}const Vn=f.createContext({...J,scaleX:1,scaleY:1});var le;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(le||(le={}));const qi=f.memo(function(n){var t,r,i,o;let{id:a,accessibility:s,autoScroll:l=!0,children:c,sensors:u=Li,collisionDetection:d=Ir,measuring:v,modifiers:p,...h}=n;const m=f.useReducer($i,void 0,Fi),[g,w]=m,[S,y]=jr(),[A,D]=f.useState(le.Uninitialized),M=A===le.Initialized,{draggable:{active:C,nodes:E,translate:N},droppable:{containers:R}}=g,x=C?E.get(C):null,_=f.useRef({initial:null,translated:null}),F=f.useMemo(()=>{var z;return C!=null?{id:C,data:(z=x==null?void 0:x.data)!=null?z:Bi,rect:_}:null},[C,x]),G=f.useRef(null),[He,Ke]=f.useState(null),[V,Me]=f.useState(null),fe=Lt(h,Object.values(h)),xe=Bt("DndDescribedBy",a),he=f.useMemo(()=>R.getEnabled(),[R]),ne=Vi(v),{droppableRects:I,measureDroppableContainers:ie,measuringScheduled:Ve}=Ti(he,{dragging:M,dependencies:[N.x,N.y],config:ne.droppable}),W=Di(E,C),Ue=f.useMemo(()=>V?it(V):null,[V]),Oe=wr(),Ae=Mi(W,ne.draggable.measure);Ui({activeNode:C?E.get(C):null,config:Oe.layoutShiftCompensation,initialRect:Ae,measure:ne.draggable.measure});const L=vn(W,ne.draggable.measure,Ae),me=vn(W?W.parentElement:null),re=f.useRef({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:I,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),qe=R.getNodeFor((t=re.current.over)==null?void 0:t.id),ve=_i({measure:ne.dragOverlay.measure}),Qe=(r=ve.nodeRef.current)!=null?r:W,ge=M?(i=ve.rect)!=null?i:L:null,Qt=!!(ve.nodeRef.current&&ve.rect),Jt=Ai(Qt?null:L),vt=Kn(Qe?B(Qe):null),oe=Ni(M?qe??W:null),Je=zi(oe),Ge=Ki(p,{transform:{x:N.x-Jt.x,y:N.y-Jt.y,scaleX:1,scaleY:1},activatorEvent:V,active:F,activeNodeRect:L,containerNodeRect:me,draggingNodeRect:ge,over:re.current.over,overlayNodeRect:ve.rect,scrollableAncestors:oe,scrollableAncestorRects:Je,windowRect:vt}),Gt=Ue?Ce(Ue,N):null,It=Ri(oe),fr=hn(It),vr=hn(It,[L]),be=Ce(Ge,fr),we=ge?ni(ge,Ge):null,Ne=F&&we?d({active:F,collisionRect:we,droppableRects:I,droppableContainers:he,pointerCoordinates:Gt}):null,en=Qr(Ne,"id"),[ae,tn]=f.useState(null),pr=Qt?Ge:Ce(Ge,vr),hr=ei(pr,(o=ae==null?void 0:ae.rect)!=null?o:null,L),nn=f.useCallback((z,Z)=>{let{sensor:j,options:se}=Z;if(G.current==null)return;const $=E.get(G.current);if(!$)return;const U=z.nativeEvent,ee=new j({active:G.current,activeNode:$,event:U,options:se,context:re,onStart(q){const Re=G.current;if(Re==null)return;const Ye=E.get(Re);if(!Ye)return;const{onDragStart:Ie}=fe.current,et={active:{id:Re,data:Ye.data,rect:_}};ye.unstable_batchedUpdates(()=>{Ie==null||Ie(et),D(le.Initializing),w({type:k.DragStart,initialCoordinates:q,active:Re}),S({type:"onDragStart",event:et})})},onMove(q){w({type:k.DragMove,coordinates:q})},onEnd:Se(k.DragEnd),onCancel:Se(k.DragCancel)});ye.unstable_batchedUpdates(()=>{Ke(ee),Me(z.nativeEvent)});function Se(q){return async function(){const{active:Ye,collisions:Ie,over:et,scrollAdjustedTranslate:on}=re.current;let Xe=null;if(Ye&&on){const{cancelDrop:ze}=fe.current;Xe={activatorEvent:U,active:Ye,collisions:Ie,delta:on,over:et},q===k.DragEnd&&typeof ze=="function"&&await Promise.resolve(ze(Xe))&&(q=k.DragCancel)}G.current=null,ye.unstable_batchedUpdates(()=>{w({type:q}),D(le.Uninitialized),tn(null),Ke(null),Me(null);const ze=q===k.DragEnd?"onDragEnd":"onDragCancel";if(Xe){const pt=fe.current[ze];pt==null||pt(Xe),S({type:ze,event:Xe})}})}}},[E]),mr=f.useCallback((z,Z)=>(j,se)=>{const $=j.nativeEvent,U=E.get(se);if(G.current!==null||!U||$.dndKit||$.defaultPrevented)return;const ee={active:U};z(j,Z.options,ee)===!0&&($.dndKit={capturedBy:Z.sensor},G.current=se,nn(j,Z))},[E,nn]),rn=Pi(u,mr);Yi(u),ce(()=>{L&&A===le.Initializing&&D(le.Initialized)},[L,A]),f.useEffect(()=>{const{onDragMove:z}=fe.current,{active:Z,activatorEvent:j,collisions:se,over:$}=re.current;if(!Z||!j)return;const U={active:Z,activatorEvent:j,collisions:se,delta:{x:be.x,y:be.y},over:$};ye.unstable_batchedUpdates(()=>{z==null||z(U),S({type:"onDragMove",event:U})})},[be.x,be.y]),f.useEffect(()=>{const{active:z,activatorEvent:Z,collisions:j,droppableContainers:se,scrollAdjustedTranslate:$}=re.current;if(!z||G.current==null||!Z||!$)return;const{onDragOver:U}=fe.current,ee=se.get(en),Se=ee&&ee.rect.current?{id:ee.id,rect:ee.rect.current,data:ee.data,disabled:ee.disabled}:null,q={active:z,activatorEvent:Z,collisions:j,delta:{x:$.x,y:$.y},over:Se};ye.unstable_batchedUpdates(()=>{tn(Se),U==null||U(q),S({type:"onDragOver",event:q})})},[en]),ce(()=>{re.current={activatorEvent:V,active:F,activeNode:W,collisionRect:we,collisions:Ne,droppableRects:I,draggableNodes:E,draggingNode:Qe,draggingNodeRect:ge,droppableContainers:R,over:ae,scrollableAncestors:oe,scrollAdjustedTranslate:be},_.current={initial:ge,translated:we}},[F,W,Ne,we,E,Qe,ge,I,R,ae,oe,be]),yi({...Oe,delta:N,draggingRect:we,pointerCoordinates:Gt,scrollableAncestors:oe,scrollableAncestorRects:Je});const gr=f.useMemo(()=>({active:F,activeNode:W,activeNodeRect:L,activatorEvent:V,collisions:Ne,containerNodeRect:me,dragOverlay:ve,draggableNodes:E,droppableContainers:R,droppableRects:I,over:ae,measureDroppableContainers:ie,scrollableAncestors:oe,scrollableAncestorRects:Je,measuringConfiguration:ne,measuringScheduled:Ve,windowRect:vt}),[F,W,L,V,Ne,me,ve,E,R,I,ae,ie,oe,Je,ne,Ve,vt]),br=f.useMemo(()=>({activatorEvent:V,activators:rn,active:F,activeNodeRect:L,ariaDescribedById:{draggable:xe},dispatch:w,draggableNodes:E,over:ae,measureDroppableContainers:ie}),[V,rn,F,L,w,xe,E,ae,ie]);return Y.createElement(Yn.Provider,{value:y},Y.createElement(Ht.Provider,{value:br},Y.createElement(ji.Provider,{value:gr},Y.createElement(Vn.Provider,{value:hr},c)),Y.createElement(Hi,{disabled:(s==null?void 0:s.restoreFocus)===!1})),Y.createElement(Hr,{...s,hiddenTextDescribedById:xe}));function wr(){const z=(He==null?void 0:He.autoScrollEnabled)===!1,Z=typeof l=="object"?l.enabled===!1:l===!1,j=M&&!z&&!Z;return typeof l=="object"?{...l,enabled:j}:{enabled:j}}}),Qi=f.createContext(null),mn="button",Ji="Droppable";function Gi(e){let{id:n,data:t,disabled:r=!1,attributes:i}=e;const o=Bt(Ji),{activators:a,activatorEvent:s,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:v}=f.useContext(Ht),{role:p=mn,roleDescription:h="draggable",tabIndex:m=0}=i??{},g=(l==null?void 0:l.id)===n,w=f.useContext(g?Vn:Qi),[S,y]=Tt(),[A,D]=Tt(),M=Xi(a,n),C=Lt(t);ce(()=>(d.set(n,{id:n,key:o,node:S,activatorNode:A,data:C}),()=>{const N=d.get(n);N&&N.key===o&&d.delete(n)}),[d,n]);const E=f.useMemo(()=>({role:p,tabIndex:m,"aria-disabled":r,"aria-pressed":g&&p===mn?!0:void 0,"aria-roledescription":h,"aria-describedby":u.draggable}),[r,p,m,g,h,u.draggable]);return{active:l,activatorEvent:s,activeNodeRect:c,attributes:E,isDragging:g,listeners:r?void 0:M,node:S,over:v,setNodeRef:y,setActivatorNodeRef:D,transform:w}}const Ii=e=>{let{activatorEvent:n,draggingNodeRect:t,transform:r}=e;if(t&&n){const i=it(n);if(!i)return r;const o=i.x-t.left,a=i.y-t.top;return{...r,x:r.x+o-t.width/2,y:r.y+a-t.height/2}}return r};var eo={BASE_URL:"/collaborative-wall",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const gn=e=>{let n;const t=new Set,r=(u,d)=>{const v=typeof u=="function"?u(n):u;if(!Object.is(v,n)){const p=n;n=d??(typeof v!="object"||v===null)?v:Object.assign({},n,v),t.forEach(h=>h(n,p))}},i=()=>n,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u)),destroy:()=>{(eo?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},c=n=e(r,i,l);return l},to=e=>e?gn(e):gn;var Un={exports:{}},qn={},Qn={exports:{}},Jn={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ee=f;function no(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ro=typeof Object.is=="function"?Object.is:no,io=Ee.useState,oo=Ee.useEffect,ao=Ee.useLayoutEffect,so=Ee.useDebugValue;function lo(e,n){var t=n(),r=io({inst:{value:t,getSnapshot:n}}),i=r[0].inst,o=r[1];return ao(function(){i.value=t,i.getSnapshot=n,yt(i)&&o({inst:i})},[e,t,n]),oo(function(){return yt(i)&&o({inst:i}),e(function(){yt(i)&&o({inst:i})})},[e]),so(t),t}function yt(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!ro(e,t)}catch{return!0}}function uo(e,n){return n()}var co=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uo:lo;Jn.useSyncExternalStore=Ee.useSyncExternalStore!==void 0?Ee.useSyncExternalStore:co;Qn.exports=Jn;var fo=Qn.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=f,vo=fo;function po(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ho=typeof Object.is=="function"?Object.is:po,mo=vo.useSyncExternalStore,go=ut.useRef,bo=ut.useEffect,wo=ut.useMemo,So=ut.useDebugValue;qn.useSyncExternalStoreWithSelector=function(e,n,t,r,i){var o=go(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=wo(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&a.hasValue){var h=a.value;if(i(h,p))return d=h}return d=p}if(h=d,ho(u,p))return h;var m=r(p);return i!==void 0&&i(h,m)?h:(u=p,d=m)}var c=!1,u,d,v=t===void 0?null:t;return[function(){return l(n())},v===null?void 0:function(){return l(v())}]},[n,t,r,i]);var s=mo(e,o[0],o[1]);return bo(function(){a.hasValue=!0,a.value=s},[s]),So(s),s};Un.exports=qn;var yo=Un.exports;const Co=Sr(yo);var Gn={BASE_URL:"/collaborative-wall",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:Eo}=Y,{useSyncExternalStoreWithSelector:Do}=Co;let bn=!1;const Po=e=>e;function To(e,n=Po,t){(Gn?"production":void 0)!=="production"&&t&&!bn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),bn=!0);const r=Do(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,t);return Eo(r),r}const wn=e=>{(Gn?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof e=="function"?to(e):e,t=(r,i)=>To(n,r,i);return Object.assign(t,n),t},Mo=e=>e?wn(e):wn,xo=2,Oo=1,Ao=.75,No=.25,Q={MAX_ZOOM:xo,DEFAULT_ZOOM:Oo,MIN_ZOOM:Ao,SCALE_ZOOM:No},Ct={x:0,y:0},Ro={canMoveBoard:!1,canMoveNote:!1,canZoom:!0,isDragging:!1,startPosition:Ct,offset:Ct,zoom:Q.DEFAULT_ZOOM,notes:[{id:1,title:"note 1",text:"lorem ipsum",offset:Ct,zIndex:1}]},pe=Mo()((e,n)=>({...Ro,toggleCanMoveBoard:()=>e(t=>({canMoveBoard:!t.canMoveBoard})),toggleCanMoveNote:()=>e(t=>({canMoveNote:!t.canMoveNote})),toggleCanZoom:()=>e(t=>({canZoom:!t.canZoom})),setCanMoveBoard:t=>e({canMoveBoard:t}),setCanMoveNote:t=>e({canMoveNote:t}),setCanZoom:t=>e({canZoom:t}),handleTouchStart:t=>{n().canMoveBoard&&e(()=>({isDragging:!0,startPosition:{x:t.touches[0].clientX,y:t.touches[0].clientY}}))},handleTouchMove:t=>{if(!n().isDragging)return;const r=t.touches[0].clientX-n().startPosition.x,i=t.touches[0].clientY-n().startPosition.y;e(o=>({offset:{x:o.offset.x+r,y:o.offset.y+i},startPosition:{x:t.touches[0].clientX,y:t.touches[0].clientY}}))},handleTouchEnd:()=>{n().isDragging&&e(()=>({isDragging:!1}))},handleMouseDown:t=>{n().canMoveBoard&&e(()=>({isDragging:!0,startPosition:{x:t.clientX,y:t.clientY}}))},handleMouseUp:()=>{n().canMoveBoard&&e(()=>({isDragging:!1}))},handleMouseMove:t=>{if(!n().isDragging)return;const r=t.clientX-n().startPosition.x,i=t.clientY-n().startPosition.y;e(o=>({offset:{x:o.offset.x+r,y:o.offset.y+i},startPosition:{x:t.clientX,y:t.clientY}}))},resetOffset:()=>{e(()=>({offset:{x:0,y:0},zoom:Q.DEFAULT_ZOOM}))},resetZoom:()=>{n().canZoom&&e(()=>({zoom:Q.DEFAULT_ZOOM}))},updateNotePosition:({activeId:t,y:r,x:i})=>{e(o=>({notes:o.notes.map(a=>a.id===t?{...a,offset:{x:a.x+i,y:a.y+r},zIndex:2}:{...a,zIndex:1})}))},createNote:()=>{const i=n().notes.length+1,o=document.querySelector(".whiteboard"),a=o?o.clientWidth:0,s=o?o.clientHeight:0,l=(a-224)/2,c=(s-224)/2,u={id:i,title:`note ${i}`,text:`lorem ipsum lorem ipsum${i}`,offset:{x:l,y:c},zIndex:i};e(d=>({notes:[...d.notes,u]}))},deleteNote:t=>{e(r=>({notes:r.notes.filter(i=>i.id!==t)}))}}));function Yo({setIsOpen:e,description:n}){const{t}=On();return b.jsxs("div",{style:{position:"fixed",top:"73px",zIndex:"11",backgroundColor:"rgb(255 255 255 / 80%)",width:"100%",display:"flex",padding:"8px 48px 8px 48px",alignItems:"center",gap:"8px",lineHeight:"22px"},children:[b.jsx("p",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n}),b.jsx(Pt,{variant:"ghost",color:"tertiary",onClick:()=>e(!0),children:b.jsx("p",{style:{whiteSpace:"nowrap"},children:t("explorer.see.more")})})]})}const Xo=({note:e})=>{const n=pe(u=>u.canMoveNote),t=pe(u=>u.isDragging),r=pe(u=>u.deleteNote),{attributes:i,isDragging:o,listeners:a,setNodeRef:s,transform:l}=Gi({id:e.id,disabled:!n}),c={position:"absolute",userSelect:(o||t)&&"none",top:(l==null?void 0:l.y)??0,left:(l==null?void 0:l.x)??0,cursor:n?o?"grabbing":"grab":"default",boxShadow:o?"-1px 0 15px 0 rgba(34, 33, 81, 0.01), 0px 15px 15px 0 rgba(34, 33, 81, 0.25)":"0 2px 6px 0px rgba(0, 0, 0, 0.15)"};return b.jsxs("div",{ref:s,...i,...a,className:"note",style:{...c,top:e.y,left:e.x,transform:xt.Translate.toString(l)},children:[b.jsx("h4",{children:"Title"}),b.jsx("p",{children:e.content}),b.jsx("button",{onClick:()=>r(e.id),children:"delete"})]})};var K=function(e,n){return Number(e.toFixed(n))},zo=function(e,n){return typeof e=="number"?e:n},O=function(e,n,t){t&&typeof t=="function"&&t(e,n)},ko=function(e){return-Math.cos(e*Math.PI)/2+.5},_o=function(e){return e},Lo=function(e){return e*e},Bo=function(e){return e*(2-e)},Wo=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},Zo=function(e){return e*e*e},jo=function(e){return--e*e*e+1},Fo=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},$o=function(e){return e*e*e*e},Ho=function(e){return 1- --e*e*e*e},Ko=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},Vo=function(e){return e*e*e*e*e},Uo=function(e){return 1+--e*e*e*e*e},qo=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},In={easeOut:ko,linear:_o,easeInQuad:Lo,easeOutQuad:Bo,easeInOutQuad:Wo,easeInCubic:Zo,easeOutCubic:jo,easeInOutCubic:Fo,easeInQuart:$o,easeOutQuart:Ho,easeInOutQuart:Ko,easeInQuint:Vo,easeOutQuint:Uo,easeInOutQuint:qo},er=function(e){typeof e=="number"&&cancelAnimationFrame(e)},te=function(e){e.mounted&&(er(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function tr(e,n,t,r){if(e.mounted){var i=new Date().getTime(),o=1;te(e),e.animation=function(){if(!e.mounted)return er(e.animation);var a=new Date().getTime()-i,s=a/t,l=In[n],c=l(s);a>=t?(r(o),e.animation=null):e.animation&&(r(c),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function Qo(e){var n=e.scale,t=e.positionX,r=e.positionY;return!(Number.isNaN(n)||Number.isNaN(t)||Number.isNaN(r))}function de(e,n,t,r){var i=Qo(n);if(!(!e.mounted||!i)){var o=e.setTransformState,a=e.transformState,s=a.scale,l=a.positionX,c=a.positionY,u=n.scale-s,d=n.positionX-l,v=n.positionY-c;t===0?o(n.scale,n.positionX,n.positionY):tr(e,r,t,function(p){var h=s+u*p,m=l+d*p,g=c+v*p;o(h,m,g)})}}function Jo(e,n,t){var r=e.offsetWidth,i=e.offsetHeight,o=n.offsetWidth,a=n.offsetHeight,s=o*t,l=a*t,c=r-s,u=i-l;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:s,newDiffWidth:c,newContentHeight:l,newDiffHeight:u}}var Go=function(e,n,t,r,i,o,a){var s=e>n?t*(a?1:.5):0,l=r>i?o*(a?1:.5):0,c=e-n-s,u=s,d=r-i-l,v=l;return{minPositionX:c,maxPositionX:u,minPositionY:d,maxPositionY:v}},Kt=function(e,n){var t=e.wrapperComponent,r=e.contentComponent,i=e.setup.centerZoomedOut;if(!t||!r)throw new Error("Components are not mounted");var o=Jo(t,r,n),a=o.wrapperWidth,s=o.wrapperHeight,l=o.newContentWidth,c=o.newDiffWidth,u=o.newContentHeight,d=o.newDiffHeight,v=Go(a,l,c,s,u,d,!!i);return v},Rt=function(e,n,t,r){return r?e<n?K(n,2):e>t?K(t,2):K(e,2):K(e,2)},De=function(e,n){var t=Kt(e,n);return e.bounds=t,t};function ct(e,n,t,r,i,o,a){var s=t.minPositionX,l=t.minPositionY,c=t.maxPositionX,u=t.maxPositionY,d=0,v=0;a&&(d=i,v=o);var p=Rt(e,s-d,c+d,r),h=Rt(n,l-v,u+v,r);return{x:p,y:h}}function dt(e,n,t,r,i,o){var a=e.transformState,s=a.scale,l=a.positionX,c=a.positionY,u=r-s;if(typeof n!="number"||typeof t!="number")return console.error("Mouse X and Y position were not provided!"),{x:l,y:c};var d=l-n*u,v=c-t*u,p=ct(d,v,i,o,0,0,null);return p}function $e(e,n,t,r,i){var o=i?r:0,a=n-o;return!Number.isNaN(t)&&e>=t?t:!Number.isNaN(n)&&e<=a?a:e}var Sn=function(e,n){var t=e.setup.panning.excluded,r=e.isInitialized,i=e.wrapperComponent,o=n.target,a=i==null?void 0:i.contains(o),s=r&&o&&a;if(!s)return!1;var l=ft(o,t);return!l},yn=function(e){var n=e.isInitialized,t=e.isPanning,r=e.setup,i=r.panning.disabled,o=n&&t&&!i;return!!o},Io=function(e,n){var t=e.transformState,r=t.positionX,i=t.positionY;e.isPanning=!0;var o=n.clientX,a=n.clientY;e.startCoords={x:o-r,y:a-i}},ea=function(e,n){var t=n.touches,r=e.transformState,i=r.positionX,o=r.positionY;e.isPanning=!0;var a=t.length===1;if(a){var s=t[0].clientX,l=t[0].clientY;e.startCoords={x:s-i,y:l-o}}};function ta(e){var n=e.transformState,t=n.positionX,r=n.positionY,i=n.scale,o=e.setup,a=o.disabled,s=o.limitToBounds,l=o.centerZoomedOut,c=e.wrapperComponent;if(!(a||!c||!e.bounds)){var u=e.bounds,d=u.maxPositionX,v=u.minPositionX,p=u.maxPositionY,h=u.minPositionY,m=t>d||t<v,g=r>p||r<h,w=t>d?c.offsetWidth:e.setup.minPositionX||0,S=r>p?c.offsetHeight:e.setup.minPositionY||0,y=dt(e,w,S,i,e.bounds,s||l),A=y.x,D=y.y;return{scale:i,positionX:m?A:t,positionY:g?D:r}}}function na(e,n,t,r,i){var o=e.setup.limitToBounds,a=e.wrapperComponent,s=e.bounds,l=e.transformState,c=l.scale,u=l.positionX,d=l.positionY;if(!(a===null||s===null||n===u&&t===d)){var v=ct(n,t,s,o,r,i,a),p=v.x,h=v.y;e.setTransformState(c,p,h)}}var ra=function(e,n,t){var r=e.startCoords,i=e.transformState,o=e.setup.panning,a=o.lockAxisX,s=o.lockAxisY,l=i.positionX,c=i.positionY;if(!r)return{x:l,y:c};var u=n-r.x,d=t-r.y,v=a?l:u,p=s?c:d;return{x:v,y:p}},st=function(e,n){var t=e.setup,r=e.transformState,i=r.scale,o=t.minScale,a=t.disablePadding;return n>0&&i>=o&&!a?n:0},ia=function(e){var n=e.mounted,t=e.setup,r=t.disabled,i=t.velocityAnimation,o=e.transformState.scale,a=i.disabled,s=!a||o>1||!r||n;return!!s},oa=function(e){var n=e.mounted,t=e.velocity,r=e.bounds,i=e.setup,o=i.disabled,a=i.velocityAnimation,s=e.transformState.scale,l=a.disabled,c=!l||s>1||!o||n;return!(!c||!t||!r)};function aa(e,n){var t=e.setup.velocityAnimation,r=t.equalToMove,i=t.animationTime,o=t.sensitivity;return r?i*n*o:i}function Cn(e,n,t,r,i,o,a,s,l,c){if(i){if(n>a&&t>a){var u=a+(e-a)*c;return u>l?l:u<a?a:u}if(n<o&&t<o){var u=o+(e-o)*c;return u<s?s:u>o?o:u}}return r?n:Rt(e,o,a,i)}function sa(e,n){var t=1;return n?Math.min(t,e.offsetWidth/window.innerWidth):t}function la(e,n){var t=ia(e);if(t){var r=e.lastMousePosition,i=e.velocityTime,o=e.setup,a=e.wrapperComponent,s=o.velocityAnimation.equalToMove,l=Date.now();if(r&&i&&a){var c=sa(a,s),u=n.x-r.x,d=n.y-r.y,v=u/c,p=d/c,h=l-i,m=u*u+d*d,g=Math.sqrt(m)/h;e.velocity={velocityX:v,velocityY:p,total:g}}e.lastMousePosition=n,e.velocityTime=l}}function ua(e){var n=e.velocity,t=e.bounds,r=e.setup,i=e.wrapperComponent,o=oa(e);if(!(!o||!n||!t||!i)){var a=n.velocityX,s=n.velocityY,l=n.total,c=t.maxPositionX,u=t.minPositionX,d=t.maxPositionY,v=t.minPositionY,p=r.limitToBounds,h=r.alignmentAnimation,m=r.zoomAnimation,g=r.panning,w=g.lockAxisY,S=g.lockAxisX,y=m.animationType,A=h.sizeX,D=h.sizeY,M=h.velocityAlignmentTime,C=M,E=aa(e,l),N=Math.max(E,C),R=st(e,A),x=st(e,D),_=R*i.offsetWidth/100,F=x*i.offsetHeight/100,G=c+_,He=u-_,Ke=d+F,V=v-F,Me=e.transformState,fe=new Date().getTime();tr(e,y,N,function(xe){var he=e.transformState,ne=he.scale,I=he.positionX,ie=he.positionY,Ve=new Date().getTime()-fe,W=Ve/C,Ue=In[h.animationType],Oe=1-Ue(Math.min(1,W)),Ae=1-xe,L=I+a*Ae,me=ie+s*Ae,re=Cn(L,Me.positionX,I,S,p,u,c,He,G,Oe),qe=Cn(me,Me.positionY,ie,w,p,v,d,V,Ke,Oe);(I!==L||ie!==me)&&e.setTransformState(ne,re,qe)})}}function En(e,n){var t=e.transformState.scale;te(e),De(e,t),window.TouchEvent!==void 0&&n instanceof TouchEvent?ea(e,n):Io(e,n)}function nr(e){var n=e.transformState.scale,t=e.setup,r=t.minScale,i=t.alignmentAnimation,o=i.disabled,a=i.sizeX,s=i.sizeY,l=i.animationTime,c=i.animationType,u=o||n<r||!a&&!s;if(!u){var d=ta(e);d&&de(e,d,l,c)}}function Dn(e,n,t){var r=e.startCoords,i=e.setup,o=i.alignmentAnimation,a=o.sizeX,s=o.sizeY;if(r){var l=ra(e,n,t),c=l.x,u=l.y,d=st(e,a),v=st(e,s);la(e,{x:c,y:u}),na(e,c,u,d,v)}}function ca(e){if(e.isPanning){var n=e.setup.panning.velocityDisabled,t=e.velocity,r=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=r==null?void 0:r.getBoundingClientRect(),a=i==null?void 0:i.getBoundingClientRect(),s=(o==null?void 0:o.width)||0,l=(o==null?void 0:o.height)||0,c=(a==null?void 0:a.width)||0,u=(a==null?void 0:a.height)||0,d=s<c||l<u,v=!n&&t&&(t==null?void 0:t.total)>.1&&d;v?ua(e):nr(e)}}function Vt(e,n,t,r){var i=e.setup,o=i.minScale,a=i.maxScale,s=i.limitToBounds,l=$e(K(n,2),o,a,0,!1),c=De(e,l),u=dt(e,t,r,l,c,s),d=u.x,v=u.y;return{scale:l,positionX:d,positionY:v}}function rr(e,n,t){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,a=o.minScale,s=o.limitToBounds,l=o.zoomAnimation,c=l.disabled,u=l.animationTime,d=l.animationType,v=c||r>=a;if((r>=1||s)&&nr(e),!(v||!i||!e.mounted)){var p=n||i.offsetWidth/2,h=t||i.offsetHeight/2,m=Vt(e,a,p,h);m&&de(e,m,u,d)}}var ue=function(){return ue=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},ue.apply(this,arguments)};function Pn(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}var tt={previousScale:1,scale:1,positionX:0,positionY:0},ke={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},ir=function(e){var n,t,r,i;return{previousScale:(n=e.initialScale)!==null&&n!==void 0?n:tt.scale,scale:(t=e.initialScale)!==null&&t!==void 0?t:tt.scale,positionX:(r=e.initialPositionX)!==null&&r!==void 0?r:tt.positionX,positionY:(i=e.initialPositionY)!==null&&i!==void 0?i:tt.positionY}},Tn=function(e){var n=ue({},ke);return Object.keys(e).forEach(function(t){var r=typeof e[t]<"u",i=typeof ke[t]<"u";if(i&&r){var o=Object.prototype.toString.call(ke[t]),a=o==="[object Object]",s=o==="[object Array]";a?n[t]=ue(ue({},ke[t]),e[t]):s?n[t]=Pn(Pn([],ke[t],!0),e[t],!0):n[t]=e[t]}}),n},or=function(e,n,t){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,a=o.maxScale,s=o.minScale,l=o.zoomAnimation,c=o.smooth,u=l.size;if(!i)throw new Error("Wrapper is not mounted");var d=c?r*Math.exp(n*t):r+n*t,v=$e(K(d,3),s,a,u,!1);return v};function ar(e,n,t,r,i){var o=e.wrapperComponent,a=e.transformState,s=a.scale,l=a.positionX,c=a.positionY;if(!o)return console.error("No WrapperComponent found");var u=o.offsetWidth,d=o.offsetHeight,v=(u/2-l)/s,p=(d/2-c)/s,h=or(e,n,t),m=Vt(e,h,v,p);if(!m)return console.error("Error during zoom event. New transformation state was not calculated.");de(e,m,r,i)}function sr(e,n,t,r){var i=e.setup,o=e.wrapperComponent,a=i.limitToBounds,s=ir(e.props),l=e.transformState,c=l.scale,u=l.positionX,d=l.positionY;if(o){var v=Kt(e,s.scale),p=ct(s.positionX,s.positionY,v,a,0,0,o),h={scale:s.scale,positionX:p.x,positionY:p.y};c===s.scale&&u===s.positionX&&d===s.positionY||(r==null||r(),de(e,h,n,t))}}function da(e,n,t,r){var i=e.getBoundingClientRect(),o=n.getBoundingClientRect(),a=t.getBoundingClientRect(),s=o.x*r.scale,l=o.y*r.scale;return{x:(i.x-a.x+s)/r.scale,y:(i.y-a.y+l)/r.scale}}function fa(e,n,t){var r=e.wrapperComponent,i=e.contentComponent,o=e.transformState,a=e.setup,s=a.limitToBounds,l=a.minScale,c=a.maxScale;if(!r||!i)return o;var u=r.getBoundingClientRect(),d=n.getBoundingClientRect(),v=da(n,r,i,o),p=v.x,h=v.y,m=d.width/o.scale,g=d.height/o.scale,w=r.offsetWidth/m,S=r.offsetHeight/g,y=$e(t||Math.min(w,S),l,c,0,!1),A=(u.width-m*y)/2,D=(u.height-g*y)/2,M=(u.left-p)*y+A,C=(u.top-h)*y+D,E=Kt(e,y),N=ct(M,C,E,s,0,0,r),R=N.x,x=N.y;return{positionX:R,positionY:x,scale:y}}var va=function(e){return function(n,t,r){n===void 0&&(n=.5),t===void 0&&(t=300),r===void 0&&(r="easeOut"),ar(e,1,n,t,r)}},pa=function(e){return function(n,t,r){n===void 0&&(n=.5),t===void 0&&(t=300),r===void 0&&(r="easeOut"),ar(e,-1,n,t,r)}},ha=function(e){return function(n,t,r,i,o){i===void 0&&(i=300),o===void 0&&(o="easeOut");var a=e.transformState,s=a.positionX,l=a.positionY,c=a.scale,u=e.wrapperComponent,d=e.contentComponent,v=e.setup.disabled;if(!(v||!u||!d)){var p={positionX:Number.isNaN(n)?s:n,positionY:Number.isNaN(t)?l:t,scale:Number.isNaN(r)?c:r};de(e,p,i,o)}}},ma=function(e){return function(n,t){n===void 0&&(n=200),t===void 0&&(t="easeOut"),sr(e,n,t)}},ga=function(e){return function(n,t,r){t===void 0&&(t=200),r===void 0&&(r="easeOut");var i=e.transformState,o=e.wrapperComponent,a=e.contentComponent;if(o&&a){var s=lr(n||i.scale,o,a);de(e,s,t,r)}}},ba=function(e){return function(n,t,r,i){r===void 0&&(r=600),i===void 0&&(i="easeOut"),te(e);var o=e.wrapperComponent,a=typeof n=="string"?document.getElementById(n):n;if(o&&a&&o.contains(a)){var s=fa(e,a,t);de(e,s,r,i)}}},Yt=function(e){return{instance:e,zoomIn:va(e),zoomOut:pa(e),setTransform:ha(e),resetTransform:ma(e),centerView:ga(e),zoomToElement:ba(e)}},wa=function(e){return{instance:e,state:e.transformState}},P=function(e){var n={};return Object.assign(n,wa(e)),Object.assign(n,Yt(e)),n},Et=!1;function Dt(){try{var e={get passive(){return Et=!0,!1}};return e}catch{return Et=!1,Et}}var ft=function(e,n){var t=e.tagName.toUpperCase(),r=n.find(function(o){return o.toUpperCase()===t});if(r)return!0;var i=n.find(function(o){return e.classList.contains(o)});return!!i},Xt=function(e){e&&clearTimeout(e)},Sa=function(e,n,t){return"translate(".concat(e,"px, ").concat(n,"px) scale(").concat(t,")")},lr=function(e,n,t){var r=t.offsetWidth*e,i=t.offsetHeight*e,o=(n.offsetWidth-r)/2,a=(n.offsetHeight-i)/2;return{scale:e,positionX:o,positionY:a}};function ya(e){return function(n){e.forEach(function(t){typeof t=="function"?t(n):t!=null&&(t.current=n)})}}var Ca=function(e,n){var t=e.setup.wheel,r=t.disabled,i=t.wheelDisabled,o=t.touchPadDisabled,a=t.excluded,s=e.isInitialized,l=e.isPanning,c=n.target,u=s&&!l&&!r&&c;if(!u||i&&!n.ctrlKey||o&&n.ctrlKey)return!1;var d=ft(c,a);return!d},Ea=function(e){return e?e.deltaY<0?1:-1:0};function Da(e,n){var t=Ea(e),r=zo(n,t);return r}function ur(e,n,t){var r=n.getBoundingClientRect(),i=0,o=0;if("clientX"in e)i=(e.clientX-r.left)/t,o=(e.clientY-r.top)/t;else{var a=e.touches[0];i=(a.clientX-r.left)/t,o=(a.clientY-r.top)/t}return(Number.isNaN(i)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var Pa=function(e,n,t,r,i){var o=e.transformState.scale,a=e.wrapperComponent,s=e.setup,l=s.maxScale,c=s.minScale,u=s.zoomAnimation,d=s.disablePadding,v=u.size,p=u.disabled;if(!a)throw new Error("Wrapper is not mounted");var h=o+n*t;if(i)return h;var m=r?!1:!p,g=$e(K(h,3),c,l,v,m&&!d);return g},Ta=function(e,n){var t=e.previousWheelEvent,r=e.transformState.scale,i=e.setup,o=i.maxScale,a=i.minScale;return t?r<o||r>a||Math.sign(t.deltaY)!==Math.sign(n.deltaY)||t.deltaY>0&&t.deltaY<n.deltaY||t.deltaY<0&&t.deltaY>n.deltaY||Math.sign(t.deltaY)!==Math.sign(n.deltaY):!1},Ma=function(e,n){var t=e.setup.pinch,r=t.disabled,i=t.excluded,o=e.isInitialized,a=n.target,s=o&&!r&&a;if(!s)return!1;var l=ft(a,i);return!l},xa=function(e){var n=e.setup.pinch.disabled,t=e.isInitialized,r=e.pinchStartDistance,i=t&&!n&&r;return!!i},Oa=function(e,n,t){var r=t.getBoundingClientRect(),i=e.touches,o=K(i[0].clientX-r.left,5),a=K(i[0].clientY-r.top,5),s=K(i[1].clientX-r.left,5),l=K(i[1].clientY-r.top,5);return{x:(o+s)/2/n,y:(a+l)/2/n}},cr=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},Aa=function(e,n){var t=e.pinchStartScale,r=e.pinchStartDistance,i=e.setup,o=i.maxScale,a=i.minScale,s=i.zoomAnimation,l=i.disablePadding,c=s.size,u=s.disabled;if(!t||r===null||!n)throw new Error("Pinch touches distance was not provided");if(n<0)return e.transformState.scale;var d=n/r,v=d*t;return $e(K(v,2),a,o,c,!u&&!l)},Na=160,Ra=100,Ya=function(e,n){var t=e.props,r=t.onWheelStart,i=t.onZoomStart;e.wheelStopEventTimer||(te(e),O(P(e),n,r),O(P(e),n,i))},Xa=function(e,n){var t=e.props,r=t.onWheel,i=t.onZoom,o=e.contentComponent,a=e.setup,s=e.transformState,l=s.scale,c=a.limitToBounds,u=a.centerZoomedOut,d=a.zoomAnimation,v=a.wheel,p=a.disablePadding,h=a.smooth,m=d.size,g=d.disabled,w=v.step,S=v.smoothStep;if(!o)throw new Error("Component not mounted");n.preventDefault(),n.stopPropagation();var y=Da(n,null),A=h?S*Math.abs(n.deltaY):w,D=Pa(e,y,A,!n.ctrlKey);if(l!==D){var M=De(e,D),C=ur(n,o,l),E=g||m===0||u||p,N=c&&E,R=dt(e,C.x,C.y,D,M,N),x=R.x,_=R.y;e.previousWheelEvent=n,e.setTransformState(D,x,_),O(P(e),n,r),O(P(e),n,i)}},za=function(e,n){var t=e.props,r=t.onWheelStop,i=t.onZoomStop;Xt(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(rr(e,n.x,n.y),e.wheelAnimationTimer=null)},Ra);var o=Ta(e,n);o&&(Xt(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,O(P(e),n,r),O(P(e),n,i))},Na))},ka=function(e,n){var t=cr(n);e.pinchStartDistance=t,e.lastDistance=t,e.pinchStartScale=e.transformState.scale,e.isPanning=!1,te(e)},_a=function(e,n){var t=e.contentComponent,r=e.pinchStartDistance,i=e.transformState.scale,o=e.setup,a=o.limitToBounds,s=o.centerZoomedOut,l=o.zoomAnimation,c=l.disabled,u=l.size;if(!(r===null||!t)){var d=Oa(n,i,t);if(!(!Number.isFinite(d.x)||!Number.isFinite(d.y))){var v=cr(n),p=Aa(e,v);if(p!==i){var h=De(e,p),m=c||u===0||s,g=a&&m,w=dt(e,d.x,d.y,p,h,g),S=w.x,y=w.y;e.pinchMidpoint=d,e.lastDistance=v,e.setTransformState(p,S,y)}}}},La=function(e){var n=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,rr(e,n==null?void 0:n.x,n==null?void 0:n.y)},dr=function(e,n){var t=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;Xt(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,O(P(e),n,t)},r)},Ba=function(e,n){var t=e.props,r=t.onZoomStart,i=t.onZoom,o=e.setup.doubleClick,a=o.animationTime,s=o.animationType;O(P(e),n,r),sr(e,a,s,function(){return O(P(e),n,i)}),dr(e,n)};function Wa(e,n){var t=e.setup,r=e.doubleClickStopEventTimer,i=e.transformState,o=e.contentComponent,a=i.scale,s=e.props,l=s.onZoomStart,c=s.onZoom,u=t.doubleClick,d=u.disabled,v=u.mode,p=u.step,h=u.animationTime,m=u.animationType;if(!d&&!r){if(v==="reset")return Ba(e,n);if(!o)return console.error("No ContentComponent found");var g=v==="zoomOut"?-1:1,w=or(e,g,p);if(a!==w){O(P(e),n,l);var S=ur(n,o,a),y=Vt(e,w,S.x,S.y);if(!y)return console.error("Error during zoom event. New transformation state was not calculated.");O(P(e),n,c),de(e,y,h,m),dr(e,n)}}}var Za=function(e,n){var t=e.isInitialized,r=e.setup,i=e.wrapperComponent,o=r.doubleClick,a=o.disabled,s=o.excluded,l=n.target,c=i==null?void 0:i.contains(l),u=t&&l&&c&&!a;if(!u)return!1;var d=ft(l,s);return!d},ja=function(){function e(n){var t=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(r){De(t,t.transformState.scale),t.setup=Tn(r)},this.initializeWindowEvents=function(){var r,i=Dt(),o=(r=t.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,a=o==null?void 0:o.defaultView;a==null||a.addEventListener("mousedown",t.onPanningStart,i),a==null||a.addEventListener("mousemove",t.onPanning,i),a==null||a.addEventListener("mouseup",t.onPanningStop,i),o==null||o.addEventListener("mouseleave",t.clearPanning,i),a==null||a.addEventListener("keyup",t.setKeyUnPressed,i),a==null||a.addEventListener("keydown",t.setKeyPressed,i)},this.cleanupWindowEvents=function(){var r,i,o=Dt(),a=(r=t.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,s=a==null?void 0:a.defaultView;s==null||s.removeEventListener("mousedown",t.onPanningStart,o),s==null||s.removeEventListener("mousemove",t.onPanning,o),s==null||s.removeEventListener("mouseup",t.onPanningStop,o),a==null||a.removeEventListener("mouseleave",t.clearPanning,o),s==null||s.removeEventListener("keyup",t.setKeyUnPressed,o),s==null||s.removeEventListener("keydown",t.setKeyPressed,o),document.removeEventListener("mouseleave",t.clearPanning,o),te(t),(i=t.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(r){var i=Dt();r.addEventListener("wheel",t.onWheelZoom,i),r.addEventListener("dblclick",t.onDoubleClick,i),r.addEventListener("touchstart",t.onTouchPanningStart,i),r.addEventListener("touchmove",t.onTouchPanning,i),r.addEventListener("touchend",t.onTouchPanningStop,i)},this.handleInitialize=function(r){var i=t.setup.centerOnInit;t.applyTransformation(),t.onInitCallbacks.forEach(function(o){return o(P(t))}),i&&(t.setCenter(),t.observer=new ResizeObserver(function(){var o;t.onInitCallbacks.forEach(function(a){return a(P(t))}),t.setCenter(),(o=t.observer)===null||o===void 0||o.disconnect()}),t.observer.observe(r))},this.onWheelZoom=function(r){var i=t.setup.disabled;if(!i){var o=Ca(t,r);if(o){var a=t.isPressingKeys(t.setup.wheel.activationKeys);a&&(Ya(t,r),Xa(t,r),za(t,r))}}},this.onPanningStart=function(r){var i=t.setup.disabled,o=t.props.onPanningStart;if(!i){var a=Sn(t,r);if(a){var s=t.isPressingKeys(t.setup.panning.activationKeys);s&&(r.button===0&&!t.setup.panning.allowLeftClickPan||r.button===1&&!t.setup.panning.allowMiddleClickPan||r.button===2&&!t.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),te(t),En(t,r),O(P(t),r,o)))}}},this.onPanning=function(r){var i=t.setup.disabled,o=t.props.onPanning;if(!i){var a=yn(t);if(a){var s=t.isPressingKeys(t.setup.panning.activationKeys);s&&(r.preventDefault(),r.stopPropagation(),Dn(t,r.clientX,r.clientY),O(P(t),r,o))}}},this.onPanningStop=function(r){var i=t.props.onPanningStop;t.isPanning&&(ca(t),O(P(t),r,i))},this.onPinchStart=function(r){var i=t.setup.disabled,o=t.props,a=o.onPinchingStart,s=o.onZoomStart;if(!i){var l=Ma(t,r);l&&(ka(t,r),te(t),O(P(t),r,a),O(P(t),r,s))}},this.onPinch=function(r){var i=t.setup.disabled,o=t.props,a=o.onPinching,s=o.onZoom;if(!i){var l=xa(t);l&&(r.preventDefault(),r.stopPropagation(),_a(t,r),O(P(t),r,a),O(P(t),r,s))}},this.onPinchStop=function(r){var i=t.props,o=i.onPinchingStop,a=i.onZoomStop;t.pinchStartScale&&(La(t),O(P(t),r,o),O(P(t),r,a))},this.onTouchPanningStart=function(r){var i=t.setup.disabled,o=t.props.onPanningStart;if(!i){var a=Sn(t,r);if(a){var s=t.lastTouch&&+new Date-t.lastTouch<200;if(s&&r.touches.length===1)t.onDoubleClick(r);else{t.lastTouch=+new Date,te(t);var l=r.touches,c=l.length===1,u=l.length===2;c&&(te(t),En(t,r),O(P(t),r,o)),u&&t.onPinchStart(r)}}}},this.onTouchPanning=function(r){var i=t.setup.disabled,o=t.props.onPanning;if(t.isPanning&&r.touches.length===1){if(i)return;var a=yn(t);if(!a)return;r.preventDefault(),r.stopPropagation();var s=r.touches[0];Dn(t,s.clientX,s.clientY),O(P(t),r,o)}else r.touches.length>1&&t.onPinch(r)},this.onTouchPanningStop=function(r){t.onPanningStop(r),t.onPinchStop(r)},this.onDoubleClick=function(r){var i=t.setup.disabled;if(!i){var o=Za(t,r);o&&Wa(t,r)}},this.clearPanning=function(r){t.isPanning&&t.onPanningStop(r)},this.setKeyPressed=function(r){t.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){t.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(i){return t.pressedKeys[i]}):!0},this.setTransformState=function(r,i,o){var a=t.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o)){r!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=r),t.transformState.positionX=i,t.transformState.positionY=o,t.applyTransformation();var s=P(t);t.onChangeCallbacks.forEach(function(l){return l(s)}),O(s,{scale:r,positionX:i,positionY:o},a)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var r=lr(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,i,o){return t.props.customTransform?t.props.customTransform(r,i,o):Sa(r,i,o)},this.applyTransformation=function(){if(!(!t.mounted||!t.contentComponent)){var r=t.transformState,i=r.scale,o=r.positionX,a=r.positionY,s=t.handleTransformStyles(o,a,i);t.contentComponent.style.transform=s}},this.getContext=function(){return P(t)},this.onChange=function(r){return t.onChangeCallbacks.has(r)||t.onChangeCallbacks.add(r),function(){t.onChangeCallbacks.delete(r)}},this.onInit=function(r){return t.onInitCallbacks.has(r)||t.onInitCallbacks.add(r),function(){t.onInitCallbacks.delete(r)}},this.init=function(r,i){t.cleanupWindowEvents(),t.wrapperComponent=r,t.contentComponent=i,De(t,t.transformState.scale),t.handleInitializeWrapperEvents(r),t.handleInitialize(i),t.initializeWindowEvents(),t.isInitialized=!0;var o=P(t);O(o,void 0,t.props.onInit)},this.props=n,this.setup=Tn(this.props),this.transformState=ir(this.props)}return e}(),Ut=Y.createContext(null),Fa=function(e,n){return typeof e=="function"?e(n):e},$a=Y.forwardRef(function(e,n){var t=f.useRef(new ja(e)).current,r=Fa(e.children,Yt(t));return f.useImperativeHandle(n,function(){return Yt(t)},[t]),f.useEffect(function(){t.update(e)},[t,e]),Y.createElement(Ut.Provider,{value:t},r)});Y.forwardRef(function(e,n){var t=f.useRef(null),r=f.useContext(Ut);return f.useEffect(function(){return r.onChange(function(i){if(t.current){var o=0,a=0;t.current.style.transform=r.handleTransformStyles(o,a,1/i.instance.transformState.scale)}})},[r]),Y.createElement("div",ue({},e,{ref:ya([t,n])}))});function Ha(e,n){n===void 0&&(n={});var t=n.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var Ka=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,Mn={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};Ha(Ka);var Va=function(e){var n=e.children,t=e.wrapperClass,r=t===void 0?"":t,i=e.contentClass,o=i===void 0?"":i,a=e.wrapperStyle,s=e.contentStyle,l=e.wrapperProps,c=l===void 0?{}:l,u=e.contentProps,d=u===void 0?{}:u,v=f.useContext(Ut),p=v.init,h=v.cleanupWindowEvents,m=f.useRef(null),g=f.useRef(null);return f.useEffect(function(){var w=m.current,S=g.current;return w!==null&&S!==null&&p&&(p==null||p(w,S)),function(){h==null||h()}},[]),Y.createElement("div",ue({},c,{ref:m,className:"react-transform-wrapper ".concat(Mn.wrapper," ").concat(r),style:a}),Y.createElement("div",ue({},d,{ref:g,className:"react-transform-component ".concat(Mn.content," ").concat(o),style:s}),n))};function Ua(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[r,i]of e)if(!Object.is(i,n.get(r)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const r of e)if(!n.has(r))return!1;return!0}const t=Object.keys(e);if(t.length!==Object.keys(n).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(n,t[r])||!Object.is(e[t[r]],n[t[r]]))return!1;return!0}const{useRef:qa}=Y;function qt(e){const n=qa();return t=>{const r=e(t);return Ua(n.current,r)?n.current:n.current=r}}const Qa=({zoomIn:e,zoomOut:n,resetTransform:t,newZoom:r})=>{const{canMoveBoard:i,canMoveNote:o,createNote:a,resetZoom:s,setCanMoveBoard:l,setCanMoveNote:c,toggleCanMoveBoard:u,toggleCanMoveNote:d}=pe(qt(v=>({canMoveBoard:v.canMoveBoard,canMoveNote:v.canMoveNote,createNote:v.createNote,resetZoom:v.resetZoom,setCanMoveBoard:v.setCanMoveBoard,setCanMoveNote:v.setCanMoveNote,toggleCanMoveBoard:v.toggleCanMoveBoard,toggleCanMoveNote:v.toggleCanMoveNote,toggleCanZoom:v.toggleCanZoom})));return b.jsxs("div",{className:"toolbar",children:[b.jsx("button",{onClick:()=>t(Q.DEFAULT_ZOOM),children:"Centrer"}),b.jsx("button",{children:b.jsx(yr,{})}),b.jsx("button",{style:{backgroundColor:o&&"#E5F5FF"},onClick:()=>{d(),l(!1)},children:b.jsx(Cr,{})}),b.jsx("button",{style:{backgroundColor:i&&"#E5F5FF"},onClick:()=>{u(),c(!1)},children:b.jsx(Er,{})}),b.jsx("button",{onClick:()=>n(Q.SCALE_ZOOM),children:b.jsx(Dr,{})}),b.jsx("button",{onClick:s,children:(r*100).toFixed(0)+"%"}),b.jsx("button",{onClick:()=>e(Q.SCALE_ZOOM),children:b.jsx(Pr,{})}),b.jsx("button",{onClick:a,children:b.jsx(Tr,{})})]})},Ja=({children:e,data:n,zoomIn:t,zoomOut:r})=>{const{canMoveBoard:i,setCanMoveBoard:o,setCanMoveNote:a,isDragging:s,createNote:l}=pe(qt(d=>({canMoveBoard:d.canMoveBoard,setCanMoveBoard:d.setCanMoveBoard,setCanMoveNote:d.setCanMoveNote,isDragging:d.isDragging,createNote:d.createNote}))),c=d=>{d.metaKey&&d.key==="k"&&l(),d.code==="Space"&&(o(!0),a(!1))},u=d=>{d.code==="Space"&&(o(!1),a(!1)),d.key==="v"&&(a(!0),o(!1)),d.key==="h"&&(o(!0),a(!1)),d.key==="-"&&r(Q.SCALE_ZOOM),(d.key==="="||d.key==="+")&&t(Q.SCALE_ZOOM)};return f.useEffect(()=>(window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}),[]),f.useEffect(()=>(window.addEventListener("keyup",u),()=>{window.removeEventListener("keyup",u)}),[]),b.jsx(b.Fragment,{children:b.jsx(Va,{wrapperStyle:{maxWidth:"100%",maxHeight:"calc(100vh)",cursor:i?s?"grabbing":"grab":"default"},children:b.jsx("div",{style:{backgroundImage:`url(${n.background})`,height:"1656px",width:"2880px"},children:e})})})},Ga=({children:e,data:n})=>{const{canMoveBoard:t,zoom:r}=pe(qt(l=>({canMoveBoard:l.canMoveBoard,zoom:l.zoom}))),[i,o]=f.useState(r),a=f.useRef(null),s=l=>{o(l.instance.transformState.scale)};return b.jsx(b.Fragment,{children:b.jsx($a,{ref:a,disabled:!t,initialScale:Q.DEFAULT_ZOOM,minScale:Q.MIN_ZOOM,maxScale:Q.MAX_ZOOM,onTransformed:l=>s(l),children:({zoomIn:l,zoomOut:c,resetTransform:u})=>b.jsxs(b.Fragment,{children:[b.jsx(Ja,{children:e,data:n,zoomIn:l,zoomOut:c}),b.jsx(Qa,{zoomIn:l,zoomOut:c,resetTransform:u,newZoom:i})]})})})},Ia=e=>`<map version="tango" theme="prism"><topic central="true" text="${e}"/></map>`,es=async e=>await(await fetch(`/collaborativewall/${e}/notes`)).json(),ts=f.lazy(async()=>await Mr(()=>import("./index-iWazbyhX.js"),__vite__mapDeps([0,1,2]))),xn={delay:250,tolerance:5};async function is({params:e}){const{id:n}=e,t=await fetch(`/collaborativewall/${n}`),r=await t.json();if(!t)throw new Response("",{status:404,statusText:"Not Found"});return r.map?r:{...r,map:Ia(r==null?void 0:r.name)}}const os=()=>{const{currentApp:e}=xr(),{t:n}=On(),t=Or(),[r,i]=f.useState();f.useEffect(()=>{(async()=>{const h=await es(t._id);i(h)})()},[]);const[o,a]=f.useState(!1),s=mt(Fn,{activationConstraint:xn}),l=mt($n,{activationConstraint:xn}),c=mt(jt),u=Kr(s,l,c),d=pe(h=>h.updateNotePosition),v=h=>{const{active:m,over:g}=h;m.id!==g.id&&i(w=>w==null?void 0:w.map(S=>S.id===m.id?{...S}:S))},p=({active:h,delta:m})=>{const g=h.id;d({activeId:g,x:m.x,y:m.y})};return t!=null&&t.map?b.jsxs(b.Fragment,{children:[b.jsx(Ar,{isFullscreen:!0,render:()=>b.jsxs(b.Fragment,{children:[b.jsx(Pt,{variant:"outline",leftIcon:b.jsx(Nr,{}),children:n("print")}),b.jsx(Pt,{variant:"filled",children:n("share")})]}),children:b.jsx(Rr,{app:e,name:t.name})}),(t==null?void 0:t.description)&&b.jsx(Yo,{setIsOpen:a,description:t==null?void 0:t.description}),b.jsxs("div",{className:"collaborative-wall-container",children:[b.jsx(Ga,{data:t,children:b.jsx(qi,{sensors:u,collisionDetection:Jr,onDragStart:v,onDragEnd:p,modifiers:[Ii],children:r==null?void 0:r.map(h=>b.jsx(Xo,{note:{id:h.id,content:h.content,x:h.x,y:h.y}},h.id))})}),(t==null?void 0:t.description)&&b.jsx(ts,{isOpen:o,setIsOpen:a,description:t==null?void 0:t.description})]})]}):b.jsx("p",{children:"No collaborative wall found"})};export{os as CollaborativeWall,is as wallLoader};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["public/index-iWazbyhX.js","public/index-5IJfoSzN.js","public/index-G0SqBg50.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
